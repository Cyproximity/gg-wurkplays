!function(t){function o(e){if(n[e])return n[e].exports;var c=n[e]={exports:{},id:e,loaded:!1};return t[e].call(c.exports,c,c.exports,o),c.loaded=!0,c.exports}var n={};return o.m=t,o.c=n,o.p="",o(0)}([function(t,o,n){"use strict";n(3),n(1),n(2)},function(t,o){"use strict";var n=io.connect("http://"+window.location.hostname+":3000");$(document).ready(function(){$("#btn_post_status").click(function(){var t={post_content:$("#posted_status").val()};$.ajax({type:"POST",url:"user/post_status",data:t,dataType:"json",success:function(t){t.success===!0?($("#posted_status").val(""),console.log(t.row),$("#notification").html(t.notification),n.emit("status_post",{content:t.row,status:t.posted_status})):t.success===!1&&($("#posted_status").val(t.posted_status),$("#notification").html(t.notification))},error:function(t,o,n){console.log(n)}})})}),n.on("status_post",function(t){$("#table-content").prepend(t.content)})},function(t,o){"use strict";$(function(){function t(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function o(o){$.ajax({type:"GET",url:"/post/comment_get",data:{key:!0,user_id:"test",post_id:o},dataType:"json",success:function(n){console.log("=====| comment |====="),$.each(n,function(n,e){console.log(n+"-"+e.SID+" | "+e.CID+" | "+e.DATE+" | comment content: "+e.CC),$("#commentlog_"+o).append('<dl class="dl-horizontal"><dt>'+e.SID+"</dt><dd>"+t(e.CC)+"</dd></dl>")})},error:function(t,o,n){console.log(o),console.log(n)}})}var n=$(".cids"),e=($(".send_comment"),{});n.each(function(t,o){var n=$(this).filter("[data-cid]").data("cid");e[t]=n}),console.log(e),$.each(e,function(t,n){o(n),$("#btncomment_"+n).on("click",function(){console.log("send comment thru comment box no. : commentbox_"+n+" | used button: btncomment_"+n);var t=$("#commentbox_"+n);console.log("comment content: "+t+" | string lenght: "+t.length),$.ajax({type:"POST",url:"/post/comment_send",data:{post_id:n,comment:t.val()},dataType:"json",success:function(o){console.dir(o);var e=$("#commentlog_"+n);o.access===!0?(t.val(""),e.append(o.message)):o.access===!1&&e.append(o.message)},error:function(t,o,n){console.log(n)}})})})})},function(t,o){"use strict";$(function(){console.log("test");var t=$("#search_box"),o=$("#btn_search");o.on("click",function(){t.val()?location.href="/search?_q="+t.val():console.log("empty")})})}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vYnVuZGxlLmpzIiwid2VicGFjazovLy93ZWJwYWNrL2Jvb3RzdHJhcCAyMGYwMDNhYTAyMzQyY2Y1N2Q4ZiIsIndlYnBhY2s6Ly8vLi9hcHAvYXBwLmpzIiwid2VicGFjazovLy8uL2FwcC9wb3N0LnNvY2tldC5qcyIsIndlYnBhY2s6Ly8vLi9hcHAvcG9zdC5jb21tZW50LmpzIiwid2VicGFjazovLy8uL2FwcC9wb3N0LnNlYXJjaC5qcyJdLCJuYW1lcyI6WyJtb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiaW5zdGFsbGVkTW9kdWxlcyIsImV4cG9ydHMiLCJtb2R1bGUiLCJpZCIsImxvYWRlZCIsImNhbGwiLCJtIiwiYyIsInAiLCJzb2NrZXQiLCJpbyIsImNvbm5lY3QiLCJ3aW5kb3ciLCJsb2NhdGlvbiIsImhvc3RuYW1lIiwiJCIsImRvY3VtZW50IiwicmVhZHkiLCJjbGljayIsImRhdGEiLCJwb3N0X2NvbnRlbnQiLCJ2YWwiLCJhamF4IiwidHlwZSIsInVybCIsImRhdGFUeXBlIiwic3VjY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJyb3ciLCJodG1sIiwibm90aWZpY2F0aW9uIiwiZW1pdCIsImNvbnRlbnQiLCJzdGF0dXMiLCJwb3N0ZWRfc3RhdHVzIiwiZXJyb3IiLCJ4aHIiLCJfZXJyb3IiLCJvbiIsInByZXBlbmQiLCJlc2NhcGVIdG1sIiwidGV4dCIsInJlcGxhY2UiLCJnZXRfY29tbWVudHMiLCJwb3N0bmFtZSIsImtleSIsInVzZXJfaWQiLCJwb3N0X2lkIiwiZWFjaCIsInZhbHVlIiwiU0lEIiwiQ0lEIiwiREFURSIsIkNDIiwiYXBwZW5kIiwiY2lkcyIsImZpbHRlciIsInRoaXMiLCJzdHIiLCJsZW5ndGgiLCJjb21tZW50IiwiZGlyIiwibG9ncyIsImFjY2VzcyIsIm1lc3NhZ2UiLCJfZXJyb3IyIiwic2VhcmNoIiwic2VhcmNoX2J1dHRvbiIsImhyZWYiXSwibWFwcGluZ3MiOiJDQUFT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RyxJQUFJc0MsR0FBTTVDLEVBQUUsZUFBZU0sRUFDM0JNLFNBQVFDLElBQUksb0JBQW9CK0IsRUFBSSxxQkFBc0JBLEVBQUlDLFFBRTlEN0MsRUFBRU8sTUFDQUMsS0FBVSxPQUNWQyxJQUFVLHFCQUNWTCxNQUFXNkIsUUFBUzNCLEVBQUl3QyxRQUFTRixFQUFJdEMsT0FDckNJLFNBQVUsT0FDVkMsUUFBVSxTQUFTUCxHQUNqQlEsUUFBUW1DLElBQUkzQyxFQUNaLElBQUk0QyxHQUFPaEQsRUFBRSxlQUFlTSxFQUN6QkYsR0FBSzZDLFVBQVcsR0FDakJMLEVBQUl0QyxJQUFJLElBQ1IwQyxFQUFLUixPQUFPcEMsRUFBSzhDLFVBRVg5QyxFQUFLNkMsVUFBVyxHQUN0QkQsRUFBS1IsT0FBT3BDLEVBQUs4QyxVQUdyQjdCLE1BQVUsU0FBU0MsRUFBS0gsRUFBUWdDLEdBQzlCdkMsUUFBUUMsSUFBSXNDLGFKOEdsQixTQUFTaEUsRUFBUUQsR0tuTHZCLFlBRUFjLEdBQUUsV0FDQVksUUFBUUMsSUFBSSxPQUNaLElBQUl1QyxHQUFTcEQsRUFBRSxlQUNYcUQsRUFBZ0JyRCxFQUFFLGNBRXRCcUQsR0FBYzdCLEdBQUcsUUFBUyxXQUNyQjRCLEVBQU85QyxNQUNSUixTQUFTd0QsS0FBTyxjQUFjRixFQUFPOUMsTUFFckNNLFFBQVFDLElBQUkiLCJmaWxlIjoiLi9idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvKioqKioqLyAoZnVuY3Rpb24obW9kdWxlcykgeyAvLyB3ZWJwYWNrQm9vdHN0cmFwXG4vKioqKioqLyBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbi8qKioqKiovIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4vKioqKioqLyBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4vKioqKioqLyBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4vKioqKioqLyBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbi8qKioqKiovIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4vKioqKioqLyBcdFx0XHRleHBvcnRzOiB7fSxcbi8qKioqKiovIFx0XHRcdGlkOiBtb2R1bGVJZCxcbi8qKioqKiovIFx0XHRcdGxvYWRlZDogZmFsc2Vcbi8qKioqKiovIFx0XHR9O1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbi8qKioqKiovIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcbi8qKioqKiovXG4vKioqKioqLyBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuLyoqKioqKi8gXHRcdG1vZHVsZS5sb2FkZWQgPSB0cnVlO1xuLyoqKioqKi9cbi8qKioqKiovIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuLyoqKioqKi8gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbi8qKioqKiovIFx0fVxuLyoqKioqKi9cbi8qKioqKiovXG4vKioqKioqLyBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4vKioqKioqLyBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG4vKioqKioqL1xuLyoqKioqKi8gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuLyoqKioqKi8gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuLyoqKioqKi9cbi8qKioqKiovIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbi8qKioqKiovIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcbi8qKioqKiovXG4vKioqKioqLyBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLyoqKioqKi8gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXygwKTtcbi8qKioqKiovIH0pXG4vKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqL1xuLyoqKioqKi8gKFtcbi8qIDAgKi9cbi8qKiovIGZ1bmN0aW9uKG1vZHVsZSwgZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXykge1xuXG5cdCd1c2Ugc3RyaWN0Jztcblx0XG5cdF9fd2VicGFja19yZXF1aXJlX18oMyk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMSk7XG5cdF9fd2VicGFja19yZXF1aXJlX18oMik7XG5cbi8qKiovIH0sXG4vKiAxICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQndXNlIHN0cmljdCc7XG5cdC8vY29kZXMgZm9yIHBvc3QgdmlhIGh0dHAgcG9zdCBtZXRob2QgYW5kIGludGVncmF0ZWQgaW4gc29ja2V0LmlvXG5cdFxuXHR2YXIgc29ja2V0ID0gaW8uY29ubmVjdCgnaHR0cDovLycgKyB3aW5kb3cubG9jYXRpb24uaG9zdG5hbWUgKyAnOjMwMDAnKTtcblx0XG5cdCQoZG9jdW1lbnQpLnJlYWR5KGZ1bmN0aW9uICgpIHtcblx0XG5cdCAgJCgnI2J0bl9wb3N0X3N0YXR1cycpLmNsaWNrKGZ1bmN0aW9uICgpIHtcblx0XG5cdCAgICB2YXIgZGF0YSA9IHtcblx0ICAgICAgcG9zdF9jb250ZW50OiAkKCcjcG9zdGVkX3N0YXR1cycpLnZhbCgpXG5cdCAgICB9O1xuXHRcblx0ICAgICQuYWpheCh7XG5cdCAgICAgIHR5cGU6ICdQT1NUJyxcblx0ICAgICAgdXJsOiAndXNlci9wb3N0X3N0YXR1cycsXG5cdCAgICAgIGRhdGE6IGRhdGEsXG5cdCAgICAgIGRhdGFUeXBlOiAnanNvbicsXG5cdCAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuXHQgICAgICAgIGlmIChkYXRhLnN1Y2Nlc3MgPT09IHRydWUpIHtcblx0XG5cdCAgICAgICAgICAkKCcjcG9zdGVkX3N0YXR1cycpLnZhbCgnJyk7XG5cdFxuXHQgICAgICAgICAgY29uc29sZS5sb2coZGF0YS5yb3cpO1xuXHRcblx0ICAgICAgICAgICQoJyNub3RpZmljYXRpb24nKS5odG1sKGRhdGEubm90aWZpY2F0aW9uKTtcblx0XG5cdCAgICAgICAgICBzb2NrZXQuZW1pdCgnc3RhdHVzX3Bvc3QnLCB7XG5cdCAgICAgICAgICAgIGNvbnRlbnQ6IGRhdGEucm93LFxuXHQgICAgICAgICAgICBzdGF0dXM6IGRhdGEucG9zdGVkX3N0YXR1c1xuXHQgICAgICAgICAgfSk7XG5cdCAgICAgICAgfSBlbHNlIGlmIChkYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG5cdCAgICAgICAgICAkKCcjcG9zdGVkX3N0YXR1cycpLnZhbChkYXRhLnBvc3RlZF9zdGF0dXMpO1xuXHQgICAgICAgICAgJCgnI25vdGlmaWNhdGlvbicpLmh0bWwoZGF0YS5ub3RpZmljYXRpb24pO1xuXHQgICAgICAgIH1cblx0ICAgICAgfSxcblx0ICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHhociwgc3RhdHVzLCBfZXJyb3IpIHtcblx0ICAgICAgICBjb25zb2xlLmxvZyhfZXJyb3IpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9KTtcblx0fSk7XG5cdFxuXHRzb2NrZXQub24oJ3N0YXR1c19wb3N0JywgZnVuY3Rpb24gKGRhdGEpIHtcblx0ICAkKCcjdGFibGUtY29udGVudCcpLnByZXBlbmQoZGF0YS5jb250ZW50KTtcblx0fSk7XG5cbi8qKiovIH0sXG4vKiAyICovXG4vKioqLyBmdW5jdGlvbihtb2R1bGUsIGV4cG9ydHMpIHtcblxuXHQvLyBqcyBjb2RlcyBmb3IgY29tbWVudCB2aWEgaHR0cCBwb3N0IG1ldGhvZFxuXHQndXNlIHN0cmljdCc7XG5cdFxuXHQkKGZ1bmN0aW9uICgpIHtcblx0ICB2YXIgY2lkcyA9ICQoJy5jaWRzJyksXG5cdCAgICAgIGNidG4gPSAkKCcuc2VuZF9jb21tZW50JyksXG5cdCAgICAgIGRhdGEgPSB7fTtcblx0XG5cdCAgY2lkcy5lYWNoKGZ1bmN0aW9uIChrZXksIHZhbCkge1xuXHQgICAgdmFyIGZpbHRlciA9ICQodGhpcykuZmlsdGVyKCdbZGF0YS1jaWRdJykuZGF0YSgnY2lkJyk7XG5cdCAgICBkYXRhW2tleV0gPSBmaWx0ZXI7XG5cdCAgfSk7XG5cdFxuXHQgIC8vLy8vLy8vLy8gYXBwIHN0YXJ0IGhlcmVcblx0ICBjb25zb2xlLmxvZyhkYXRhKTtcblx0ICBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQpIHtcblx0ICAgIHJldHVybiB0ZXh0LnJlcGxhY2UoLyYvZywgXCImYW1wO1wiKS5yZXBsYWNlKC88L2csIFwiJmx0O1wiKS5yZXBsYWNlKC8+L2csIFwiJmd0O1wiKS5yZXBsYWNlKC9cIi9nLCBcIiZxdW90O1wiKS5yZXBsYWNlKC8nL2csIFwiJiMwMzk7XCIpO1xuXHQgIH1cblx0ICBmdW5jdGlvbiBnZXRfY29tbWVudHMocG9zdG5hbWUpIHtcblx0ICAgICQuYWpheCh7XG5cdCAgICAgIHR5cGU6ICdHRVQnLFxuXHQgICAgICB1cmw6ICcvcG9zdC9jb21tZW50X2dldCcsXG5cdCAgICAgIGRhdGE6IHsga2V5OiB0cnVlLCB1c2VyX2lkOiAndGVzdCcsIHBvc3RfaWQ6IHBvc3RuYW1lIH0sXG5cdCAgICAgIGRhdGFUeXBlOiAnanNvbicsXG5cdCAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Y2Nlc3MoZGF0YSkge1xuXHQgICAgICAgIGNvbnNvbGUubG9nKCc9PT09PXwgY29tbWVudCB8PT09PT0nKTtcblx0XG5cdCAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG5cdCAgICAgICAgICBjb25zb2xlLmxvZyhrZXkgKyAnLScgKyB2YWx1ZS5TSUQgKyAnIHwgJyArIHZhbHVlLkNJRCArICcgfCAnICsgdmFsdWUuREFURSArICcgfCBjb21tZW50IGNvbnRlbnQ6ICcgKyB2YWx1ZS5DQyk7XG5cdCAgICAgICAgICAkKCcjY29tbWVudGxvZ18nICsgcG9zdG5hbWUpLmFwcGVuZCgnPGRsIGNsYXNzPVwiZGwtaG9yaXpvbnRhbFwiPjxkdD4nICsgdmFsdWUuU0lEICsgJzwvZHQ+PGRkPicgKyBlc2NhcGVIdG1sKHZhbHVlLkNDKSArICc8L2RkPjwvZGw+Jyk7XG5cdCAgICAgICAgfSk7XG5cdCAgICAgIH0sXG5cdCAgICAgIGVycm9yOiBmdW5jdGlvbiBlcnJvcih4aHIsIHN0YXR1cywgX2Vycm9yKSB7XG5cdCAgICAgICAgY29uc29sZS5sb2coc3RhdHVzKTtcblx0ICAgICAgICBjb25zb2xlLmxvZyhfZXJyb3IpO1xuXHQgICAgICB9XG5cdCAgICB9KTtcblx0ICB9XG5cdFxuXHQgICQuZWFjaChkYXRhLCBmdW5jdGlvbiAoa2V5LCB2YWwpIHtcblx0ICAgIGdldF9jb21tZW50cyh2YWwpO1xuXHRcblx0ICAgICQoJyNidG5jb21tZW50XycgKyB2YWwpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcblx0ICAgICAgY29uc29sZS5sb2coJ3NlbmQgY29tbWVudCB0aHJ1IGNvbW1lbnQgYm94IG5vLiA6IGNvbW1lbnRib3hfJyArIHZhbCArICcgfCB1c2VkIGJ1dHRvbjogYnRuY29tbWVudF8nICsgdmFsKTtcblx0ICAgICAgdmFyIHN0ciA9ICQoJyNjb21tZW50Ym94XycgKyB2YWwpO1xuXHQgICAgICBjb25zb2xlLmxvZygnY29tbWVudCBjb250ZW50OiAnICsgc3RyICsgJyB8IHN0cmluZyBsZW5naHQ6ICcgKyBzdHIubGVuZ3RoKTtcblx0XG5cdCAgICAgICQuYWpheCh7XG5cdCAgICAgICAgdHlwZTogJ1BPU1QnLFxuXHQgICAgICAgIHVybDogJy9wb3N0L2NvbW1lbnRfc2VuZCcsXG5cdCAgICAgICAgZGF0YTogeyBwb3N0X2lkOiB2YWwsIGNvbW1lbnQ6IHN0ci52YWwoKSB9LFxuXHQgICAgICAgIGRhdGFUeXBlOiAnanNvbicsXG5cdCAgICAgICAgc3VjY2VzczogZnVuY3Rpb24gc3VjY2VzcyhkYXRhKSB7XG5cdCAgICAgICAgICBjb25zb2xlLmRpcihkYXRhKTtcblx0ICAgICAgICAgIHZhciBsb2dzID0gJCgnI2NvbW1lbnRsb2dfJyArIHZhbCk7XG5cdCAgICAgICAgICBpZiAoZGF0YS5hY2Nlc3MgPT09IHRydWUpIHtcblx0ICAgICAgICAgICAgc3RyLnZhbCgnJyk7XG5cdCAgICAgICAgICAgIGxvZ3MuYXBwZW5kKGRhdGEubWVzc2FnZSk7XG5cdCAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEuYWNjZXNzID09PSBmYWxzZSkge1xuXHQgICAgICAgICAgICBsb2dzLmFwcGVuZChkYXRhLm1lc3NhZ2UpO1xuXHQgICAgICAgICAgfVxuXHQgICAgICAgIH0sXG5cdCAgICAgICAgZXJyb3I6IGZ1bmN0aW9uIGVycm9yKHhociwgc3RhdHVzLCBfZXJyb3IyKSB7XG5cdCAgICAgICAgICBjb25zb2xlLmxvZyhfZXJyb3IyKTtcblx0ICAgICAgICB9XG5cdCAgICAgIH0pO1xuXHQgICAgfSk7XG5cdCAgfSk7XG5cdH0pO1xuXG4vKioqLyB9LFxuLyogMyAqL1xuLyoqKi8gZnVuY3Rpb24obW9kdWxlLCBleHBvcnRzKSB7XG5cblx0J3VzZSBzdHJpY3QnO1xuXHRcblx0JChmdW5jdGlvbiAoKSB7XG5cdCAgY29uc29sZS5sb2coJ3Rlc3QnKTtcblx0ICB2YXIgc2VhcmNoID0gJCgnI3NlYXJjaF9ib3gnKSxcblx0ICAgICAgc2VhcmNoX2J1dHRvbiA9ICQoJyNidG5fc2VhcmNoJyk7XG5cdFxuXHQgIHNlYXJjaF9idXR0b24ub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuXHQgICAgaWYgKHNlYXJjaC52YWwoKSkge1xuXHQgICAgICBsb2NhdGlvbi5ocmVmID0gJy9zZWFyY2g/X3E9JyArIHNlYXJjaC52YWwoKTtcblx0ICAgIH0gZWxzZSB7XG5cdCAgICAgIGNvbnNvbGUubG9nKCdlbXB0eScpO1xuXHQgICAgfVxuXHQgIH0pO1xuXHR9KTtcblxuLyoqKi8gfVxuLyoqKioqKi8gXSk7XG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogYnVuZGxlLmpzXG4gKiovIiwiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pXG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG5cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGV4cG9ydHM6IHt9LFxuIFx0XHRcdGlkOiBtb2R1bGVJZCxcbiBcdFx0XHRsb2FkZWQ6IGZhbHNlXG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmxvYWRlZCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oMCk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiB3ZWJwYWNrL2Jvb3RzdHJhcCAyMGYwMDNhYTAyMzQyY2Y1N2Q4ZlxuICoqLyIsIid1c2Ugc3RyaWN0JztcbnJlcXVpcmUoJy4vcG9zdC5zZWFyY2guanMnKTtcbnJlcXVpcmUoJy4vcG9zdC5zb2NrZXQuanMnKTtcbnJlcXVpcmUoJy4vcG9zdC5jb21tZW50LmpzJyk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9hcHAuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG4vL2NvZGVzIGZvciBwb3N0IHZpYSBodHRwIHBvc3QgbWV0aG9kIGFuZCBpbnRlZ3JhdGVkIGluIHNvY2tldC5pb1xudmFyIHNvY2tldCA9IGlvLmNvbm5lY3QoJ2h0dHA6Ly8nK3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSsnOjMwMDAnKTtcblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24oKXtcblxuICAkKCcjYnRuX3Bvc3Rfc3RhdHVzJykuY2xpY2soZnVuY3Rpb24oKXtcblxuICAgIHZhciBkYXRhID0ge1xuICAgICAgcG9zdF9jb250ZW50OiAkKCcjcG9zdGVkX3N0YXR1cycpLnZhbCgpXG4gICAgfTtcblxuICAgICQuYWpheCh7XG4gICAgICB0eXBlICAgIDogJ1BPU1QnLFxuICAgICAgdXJsICAgICA6ICd1c2VyL3Bvc3Rfc3RhdHVzJyxcbiAgICAgIGRhdGEgICAgOiBkYXRhLFxuICAgICAgZGF0YVR5cGU6ICdqc29uJyxcbiAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICBpZihkYXRhLnN1Y2Nlc3MgPT09IHRydWUpIHtcblxuICAgICAgICAgICQoJyNwb3N0ZWRfc3RhdHVzJykudmFsKCcnKTtcblxuICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGEucm93KTtcblxuICAgICAgICAgICQoJyNub3RpZmljYXRpb24nKS5odG1sKGRhdGEubm90aWZpY2F0aW9uKTtcblxuICAgICAgICAgIHNvY2tldC5lbWl0KCdzdGF0dXNfcG9zdCcsIHtcbiAgICAgICAgICAgIGNvbnRlbnQ6IGRhdGEucm93LFxuICAgICAgICAgICAgc3RhdHVzOiBkYXRhLnBvc3RlZF9zdGF0dXNcbiAgICAgICAgICB9KTtcblxuICAgICAgICB9ZWxzZSBpZihkYXRhLnN1Y2Nlc3MgPT09IGZhbHNlKSB7XG4gICAgICAgICAgJCgnI3Bvc3RlZF9zdGF0dXMnKS52YWwoZGF0YS5wb3N0ZWRfc3RhdHVzKTtcbiAgICAgICAgICAkKCcjbm90aWZpY2F0aW9uJykuaHRtbChkYXRhLm5vdGlmaWNhdGlvbik7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICBlcnJvciAgIDogZnVuY3Rpb24oeGhyLCBzdGF0dXMsIGVycm9yKXtcbiAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn0pO1xuXG5zb2NrZXQub24oJ3N0YXR1c19wb3N0JywgZnVuY3Rpb24gKGRhdGEpIHtcbiAgJCgnI3RhYmxlLWNvbnRlbnQnKS5wcmVwZW5kKGRhdGEuY29udGVudCk7XG59KTtcblxuXG5cbi8qKiBXRUJQQUNLIEZPT1RFUiAqKlxuICoqIC4vYXBwL3Bvc3Quc29ja2V0LmpzXG4gKiovIiwiLy8ganMgY29kZXMgZm9yIGNvbW1lbnQgdmlhIGh0dHAgcG9zdCBtZXRob2Rcbid1c2Ugc3RyaWN0JztcblxuJChmdW5jdGlvbigpe1xuICB2YXIgY2lkcyA9ICQoJy5jaWRzJyksXG4gICAgICBjYnRuID0gJCgnLnNlbmRfY29tbWVudCcpLFxuICAgICAgZGF0YSA9IHt9O1xuXG4gICAgIGNpZHMuZWFjaChmdW5jdGlvbihrZXksIHZhbCl7XG4gICAgICAgIHZhciBmaWx0ZXIgPSAkKHRoaXMpLmZpbHRlcignW2RhdGEtY2lkXScpLmRhdGEoJ2NpZCcpO1xuICAgICAgICBkYXRhW2tleV0gPSBmaWx0ZXI7XG4gICAgIH0pO1xuXG4gIC8vLy8vLy8vLy8gYXBwIHN0YXJ0IGhlcmVcbiAgICBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICBmdW5jdGlvbiBlc2NhcGVIdG1sKHRleHQpIHtcbiAgICAgICAgcmV0dXJuIHRleHRcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csIFwiJmFtcDtcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC88L2csIFwiJmx0O1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoLz4vZywgXCImZ3Q7XCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgXCImcXVvdDtcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csIFwiJiMwMzk7XCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRfY29tbWVudHMocG9zdG5hbWUpe1xuICAgICAgJC5hamF4KHtcbiAgICAgICAgdHlwZSAgICA6ICdHRVQnLFxuICAgICAgICB1cmwgICAgIDogJy9wb3N0L2NvbW1lbnRfZ2V0JyxcbiAgICAgICAgZGF0YSAgICA6IHtrZXk6IHRydWUsIHVzZXJfaWQ6ICd0ZXN0JywgcG9zdF9pZDogcG9zdG5hbWV9LFxuICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICBzdWNjZXNzIDogZnVuY3Rpb24oZGF0YSl7XG4gICAgICAgICAgY29uc29sZS5sb2coJz09PT09fCBjb21tZW50IHw9PT09PScpO1xuXG4gICAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGtleSwgdmFsdWUpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coa2V5ICsnLScrIHZhbHVlLlNJRCArICcgfCAnK3ZhbHVlLkNJRCsnIHwgJysgdmFsdWUuREFURSArJyB8IGNvbW1lbnQgY29udGVudDogJysgdmFsdWUuQ0MpO1xuICAgICAgICAgICAgJCgnI2NvbW1lbnRsb2dfJytwb3N0bmFtZSkuYXBwZW5kKCc8ZGwgY2xhc3M9XCJkbC1ob3Jpem9udGFsXCI+PGR0PicrdmFsdWUuU0lEKyc8L2R0PjxkZD4nK2VzY2FwZUh0bWwodmFsdWUuQ0MpKyc8L2RkPjwvZGw+Jyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0sXG4gICAgICAgIGVycm9yICAgOiBmdW5jdGlvbih4aHIsIHN0YXR1cywgZXJyb3Ipe1xuICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXR1cyk7XG4gICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oa2V5LCB2YWwpe1xuICAgICAgZ2V0X2NvbW1lbnRzKHZhbCk7XG5cbiAgICAgICQoJyNidG5jb21tZW50XycrdmFsKS5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuICAgICAgICBjb25zb2xlLmxvZygnc2VuZCBjb21tZW50IHRocnUgY29tbWVudCBib3ggbm8uIDogY29tbWVudGJveF8nKyB2YWwgKycgfCB1c2VkIGJ1dHRvbjogYnRuY29tbWVudF8nKyB2YWwpO1xuICAgICAgICB2YXIgc3RyID0gJCgnI2NvbW1lbnRib3hfJyt2YWwpO1xuICAgICAgICBjb25zb2xlLmxvZygnY29tbWVudCBjb250ZW50OiAnK3N0cisnIHwgc3RyaW5nIGxlbmdodDogJysgc3RyLmxlbmd0aCk7XG5cbiAgICAgICAgJC5hamF4KHtcbiAgICAgICAgICB0eXBlICAgIDogJ1BPU1QnLFxuICAgICAgICAgIHVybCAgICAgOiAnL3Bvc3QvY29tbWVudF9zZW5kJyxcbiAgICAgICAgICBkYXRhICAgIDoge3Bvc3RfaWQ6IHZhbCxjb21tZW50OiBzdHIudmFsKCksfSxcbiAgICAgICAgICBkYXRhVHlwZTogJ2pzb24nLFxuICAgICAgICAgIHN1Y2Nlc3MgOiBmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgIGNvbnNvbGUuZGlyKGRhdGEpO1xuICAgICAgICAgICAgdmFyIGxvZ3MgPSAkKCcjY29tbWVudGxvZ18nK3ZhbCk7XG4gICAgICAgICAgICBpZihkYXRhLmFjY2VzcyA9PT0gdHJ1ZSl7XG4gICAgICAgICAgICAgIHN0ci52YWwoJycpO1xuICAgICAgICAgICAgICBsb2dzLmFwcGVuZChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZihkYXRhLmFjY2VzcyA9PT0gZmFsc2Upe1xuICAgICAgICAgICAgICBsb2dzLmFwcGVuZChkYXRhLm1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgZXJyb3IgICA6IGZ1bmN0aW9uKHhociwgc3RhdHVzLCBlcnJvcil7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgfSk7XG5cbiAgICB9KTtcblxufSk7XG5cblxuXG4vKiogV0VCUEFDSyBGT09URVIgKipcbiAqKiAuL2FwcC9wb3N0LmNvbW1lbnQuanNcbiAqKi8iLCIndXNlIHN0cmljdCc7XG5cbiQoZnVuY3Rpb24oKXtcbiAgY29uc29sZS5sb2coJ3Rlc3QnKTtcbiAgdmFyIHNlYXJjaCA9ICQoJyNzZWFyY2hfYm94JyksXG4gICAgICBzZWFyY2hfYnV0dG9uID0gJCgnI2J0bl9zZWFyY2gnKTtcblxuICBzZWFyY2hfYnV0dG9uLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG4gICAgaWYoc2VhcmNoLnZhbCgpKXtcbiAgICAgIGxvY2F0aW9uLmhyZWYgPSAnL3NlYXJjaD9fcT0nK3NlYXJjaC52YWwoKTtcbiAgICB9ZWxzZXtcbiAgICAgIGNvbnNvbGUubG9nKCdlbXB0eScpO1xuICAgIH1cbiAgfSk7XG5cbn0pO1xuXG5cblxuLyoqIFdFQlBBQ0sgRk9PVEVSICoqXG4gKiogLi9hcHAvcG9zdC5zZWFyY2guanNcbiAqKi8iXSwic291cmNlUm9vdCI6IiJ9